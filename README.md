# agents-stats-vk
Статистика агентов ВКонтакте.

# Предыстория

Не самый лучший код для изучения.
Скрипт создан на скорую руку и не является показателем хорошего кода.

Один единственный исполняющий файл - `run.js`, все конфиги внутри файла.
Скрипт работает на [Callback API](https://vk.com/dev/callback_api), ничего сверхъестественного в настройках нет.

# Подключение, настройка и запуск
Откройте раздел "Управление сообществом" (если публичная страница "Управление страницей"), перейдите во вкладку "Работа с API", далее кликните на "Callback API".
В появившемся окне выберите версию API `5.85`. 

Откройте файл `run.js` в любой удобной для Вас среде разработки. 
Далее, в объекте `config.port` укажите порт, на котором будет развернут callback-сервер. 
В строке `config.vk.confirmation` укажите `confirmation` код, который также указан во вкладке `Callback API`:
> Строка, которую должен вернуть сервер: `a1b2c3f4`

В строке "Секретный ключ" напишите уникальный ключ, содержащий латинский буквы и цифры. 
Укажите его в `config.vk.secret`.

В строке "Адрес", укажите IP-адрес машины с указанием ранее введенного порта, с добавление пути "/callback". 
> Например: 127.0.0.1:4444/callback

Далее, перейдите на вкладку "Типы событий" и кликните на чекбокс "Исходящее сообщение".

Запустите скрипт командой `node run.js` и нажмите кнопку "Подтвердить" на странице Callback API.
Если сервер подтвержден, значит вы всё сделали верно.

# Слежение

После успешного запуска сервера, Callback API будет присылать Вам события агентов. Статистика доступна по адресу с добавлением пути "/admin"
> Например: 127.0.0.1:4444/admin

Если в строке "Агент" указать 0, выведет статистику всех агентов.

Страница очень простая, разберется любой детсадовец.

Успехов!
